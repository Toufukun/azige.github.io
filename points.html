<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
		<title>日麻点数计算</title>
		<script src="http://lib.sinaapp.com/js/jquery/1.7.2/jquery.min.js"></script>
	</head>
	<body>
		<script>
			function calculate(){
				var fan = parseInt($('#fan').val())
				var fu = parseInt($('#fu').val())
				var base = Math.pow(2, fan + 2) * fu
				
				$('#reserved').text('　')
				
				if (base > 2000 || fan >= 5){
					if (fan <= 5){
						$('#reserved').text('满贯')
						base = 2000
					}else if (fan <= 7){
						$('#reserved').text('跳满')
						base = 3000
					}else if (fan <= 10){
						$('#reserved').text('倍满')
						base = 4000
					}else if (fan <= 12){
						$('#reserved').text('三倍满')
						base = 6000
					}else{
						$('#reserved').text('累计役满')
						base = 8000
					}
				}
				
				$('#oyatsumo').text(foo(base * 2))
				$('#oyaron').text(foo(base * 6))
				$('#kotsumo').text(foo(base) + '·' + foo(base * 2))
				$('#koron').text(foo(base * 4))
			}
			
			function foo(n){
				if (n % 100 > 0){
					return (Math.ceil(n / 100)) * 100
				}
				return n
			}
		</script>
		<input type="text" id="fan">翻
		<input type="text" id="fu">符
		<input type="button" value="计算" onclick="calculate()">
		<table>
			<tr>
				<td id="reserved" width="80">　</td>
			</tr>
			<tr height=30></tr>
			<tr>
				<td>亲</td>
			</tr>
			<tr>
				<td>自摸</td>
				<td id="oyatsumo"></td>
			</tr>
			<tr>
				<td>荣和</td>
				<td id="oyaron"></td> 
			</tr>
			<tr height=30></tr>
			<tr>
				<td>子</td>
			</tr>
			<tr>
				<td>自摸</td>
				<td id="kotsumo"></td>
			</tr>
			<tr>
				<td>荣和</td>
				<td id="koron"></td>
			</tr>
		</table>
	</body>
</html>